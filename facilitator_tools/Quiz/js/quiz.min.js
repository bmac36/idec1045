function d2log(e){"undefined"!=typeof D2LDEBUG&&D2LDEBUG&&console.log(e)}var InlineQuizApp={currentQuestion:0,setupReady:!1,containerRef:null,contentRef:null,headerRef:null,QuizData:null,headingLevel:null,AttemptData:[],numericalQuizID:0,currentQuestionID:0,onComplete:null,onReady:null,tabIndexSet:1,smallWidthTolerance:650,isHint:!1,inputText:[],savedText:[],textInterval:null,inputScores:[],headerAnimated:!1},D2LDEBUG=!1,ca,aa,crta,n,qt,idx,a,i,j,k,q,z,ILQ_container,ILQ_instructionText,ILQ_buttonSet,ILQ_LeftBaseButtonContainer,ILQ_RightBaseButtonContainer,ILQ_BaseButtonLabel,ILQ_ContinuousResponseCont,questionFile,classlist,eventData,endText,cont,qCopy,blankField,qWithoutBlank,answer,altResponse,qScore,maxScore,qAnswer,capAnswer,numAnswer,btnTxt,nextBtn,leftBtnData,temp,selectedSlot,impContainer,blankCount,blankText,altAnswered,score,validSrc,code,link;InlineQuizApp.setupQuiz=function(e,n){InlineQuizApp.numericalQuizID++,questionFile=e,null!==document.getElementById(n)?(InlineQuizApp.containerRef=document.getElementById(n),InlineQuizApp.getQuizData(InlineQuizApp.BuildQuiz)):d2log("ERROR: Missing specified DOM object in InlineQuizApp.setupQuiz().")},InlineQuizApp.getQuizData=function(e){var n=$.getJSON(questionFile,function(n){InlineQuizApp.QuizData=n,e(InlineQuizApp.QuizData)});n.fail(function(e){d2log("ERROR: Failed to load data file from "+questionFile+" ensure file is at that location and that JSON data is valid. (Tip: use a validator like: http://jsonformatter.curiousconcept.com/)"),d2log(e)})},InlineQuizApp.HasClass=function(e,n){if(e.classList&&e.classList.contains(n))return!0;if(e.className){for(classlist=e.className.split(" "),i=classlist.length-1;i>=0;i--)if(classlist[i]===n)return!0;return!1}return d2log("HasClass was passed a bad DomObj."),!1},InlineQuizApp.shuffle=function(e){for(var n,i,t=e.length;t;)i=Math.floor(Math.random()*t--),n=e[t],e[t]=e[i],e[i]=n;return e},InlineQuizApp.BuildQuiz=function(){for(InlineQuizApp.DefineContainer(),q=InlineQuizApp.QuizData.Questions.length-1;q>=0;q--)InlineQuizApp.QuizData.Questions[q].QuestionID=q,InlineQuizApp.QuizData.Questions[q].ChosenAnswers=[];for(i=0;i<InlineQuizApp.QuizData.Questions.length;i++)InlineQuizApp.inputScores.push(0);for(i=0;i<InlineQuizApp.QuizData.Questions.length;i++)InlineQuizApp.savedText.push(0);if(InlineQuizApp.QuizData.General.randomize&&(InlineQuizApp.QuizData.Questions=InlineQuizApp.shuffle(InlineQuizApp.QuizData.Questions)),null!==InlineQuizApp.QuizData.General.preQuizText&&void 0!==InlineQuizApp.QuizData.General.preQuizText&&""!==InlineQuizApp.QuizData.General.preQuizText||(InlineQuizApp.QuizData.General.preQuizText="none"),null!==InlineQuizApp.QuizData.General.preQuizMedia&&void 0!==InlineQuizApp.QuizData.General.preQuizMedia&&""!==InlineQuizApp.QuizData.General.preQuizMedia||(InlineQuizApp.QuizData.General.preQuizMedia="none"),null!==InlineQuizApp.QuizData.General.postQuizText&&void 0!==InlineQuizApp.QuizData.General.postQuizText&&""!==InlineQuizApp.QuizData.General.postQuizText||(InlineQuizApp.QuizData.General.postQuizText="none"),null!==InlineQuizApp.QuizData.General.postQuizMedia&&void 0!==InlineQuizApp.QuizData.General.postQuizMedia&&""!==InlineQuizApp.QuizData.General.postQuizMedia||(InlineQuizApp.QuizData.General.postQuizMedia="none"),null!==InlineQuizApp.QuizData.General.instructions&&void 0!==InlineQuizApp.QuizData.General.instructions&&""!==InlineQuizApp.QuizData.General.instructions||(InlineQuizApp.QuizData.General.instructions="none"),InlineQuizApp.QuizData.General.repeatOnComplete!==!0&&(InlineQuizApp.QuizData.General.repeatOnComplete=!0),InlineQuizApp.headingLevel=parseInt(InlineQuizApp.QuizData.General.HeadingLevel),null===InlineQuizApp.headingLevel||void 0===InlineQuizApp.headingLevel||"none"===InlineQuizApp.headingLevel||isNaN(InlineQuizApp.headingLevel)||""===InlineQuizApp.headingLevel?InlineQuizApp.headingLevel=1:InlineQuizApp.headingLevel>3&&(InlineQuizApp.headingLevel=3),"none"!==InlineQuizApp.QuizData.General.preQuizText?InlineQuizApp.SetTextSlide(InlineQuizApp.QuizData.General.preQuizText,function(){InlineQuizApp.GoNextQuestion()},{mediaData:InlineQuizApp.QuizData.General.preQuizMedia}):"none"===InlineQuizApp.QuizData.General.preQuizText&&"none"!==InlineQuizApp.QuizData.General.preQuizMedia?InlineQuizApp.SetTextSlide("",function(){InlineQuizApp.GoNextQuestion()},{mediaData:InlineQuizApp.QuizData.General.preQuizMedia}):InlineQuizApp.GoNextQuestion(),eventData={quizData:InlineQuizApp.QuizData},null!==InlineQuizApp.onReady&&InlineQuizApp.onReady.constructor===Function)try{InlineQuizApp.onReady(eventData)}catch(e){d2log("onReady Error!"),d2log(e)}$(InlineQuizApp.containerRef).addClass("rs_preserve")},InlineQuizApp.RequestNextQuestion=function(){clearInterval(InlineQuizApp.textInterval),"continuous"===InlineQuizApp.QuizData.General.feedBackType?(InlineQuizApp.QuizData.General.forceCorrect===!1&&$("input").each(function(){$(this).attr("disabled","disabled")}),InlineQuizApp.AssessFeedback()):"report"===InlineQuizApp.QuizData.General.feedBackType&&InlineQuizApp.QuizData.General.forceCorrect===!0?InlineQuizApp.AssessFeedback():("Fill In The Blank"!==InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType&&"Math"!==InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType||(InlineQuizApp.savedText.splice(InlineQuizApp.currentQuestion,1,InlineQuizApp.inputText),clearInterval(InlineQuizApp.textInterval)),InlineQuizApp.currentQuestion++,InlineQuizApp.currentQuestion<InlineQuizApp.QuizData.General.showQuestions&&(InlineQuizApp.currentQuestionID=InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].QuestionID),InlineQuizApp.GoNextQuestion())},InlineQuizApp.GoNextQuestion=function(){"none"!==InlineQuizApp.QuizData.General.showQuestions&&null!==InlineQuizApp.QuizData.General.showQuestions&&void 0!==InlineQuizApp.QuizData.General.showQuestions&&""!==InlineQuizApp.QuizData.General.showQuestions||(InlineQuizApp.QuizData.General.showQuestions=InlineQuizApp.QuizData.Questions.length),InlineQuizApp.currentQuestion<InlineQuizApp.QuizData.General.showQuestions?InlineQuizApp.setQuestionSlide(InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion]):"report"===InlineQuizApp.QuizData.General.feedBackType?InlineQuizApp.GenerateFullReport():InlineQuizApp.goEndSlide()},InlineQuizApp.goEndSlide=function(){if(endText="none"!==InlineQuizApp.QuizData.General.postQuizText?InlineQuizApp.QuizData.General.postQuizText:"<p>You have completed this assessment.</p>",eventData={quizData:InlineQuizApp.QuizData,scoreAchieved:InlineQuizApp.GetTotalScore(),scoreMax:InlineQuizApp.GetMaxScore()},null!==InlineQuizApp.onComplete&&InlineQuizApp.onComplete.constructor===Function)try{InlineQuizApp.onComplete(eventData)}catch(e){d2log("onComplete Error!"),d2log(e)}InlineQuizApp.QuizData&&(InlineQuizApp.QuizData.General.repeatOnComplete?InlineQuizApp.SetTextSlide(endText,function(){for(InlineQuizApp.QuizData.General.randomize&&(InlineQuizApp.QuizData.Questions=InlineQuizApp.shuffle(InlineQuizApp.QuizData.Questions)),InlineQuizApp.currentQuestion=0,InlineQuizApp.currentQuestionID=InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].QuestionID,q=InlineQuizApp.QuizData.Questions.length-1;q>=0;q--)InlineQuizApp.QuizData.Questions[q].QuestionID=q,InlineQuizApp.QuizData.Questions[q].ChosenAnswers=[];for(InlineQuizApp.savedText=[],i=0;i<InlineQuizApp.QuizData.Questions.length;i++)InlineQuizApp.savedText.push(0);InlineQuizApp.GoNextQuestion()},{buttonLabel:"Reset Activity",mediaData:InlineQuizApp.QuizData.General.postQuizMedia}):InlineQuizApp.SetTextSlide(endText,"none",{mediaData:InlineQuizApp.QuizData.General.postQuizMedia}))},InlineQuizApp.goPreviousQuestion=function(){clearInterval(InlineQuizApp.textInterval),0===InlineQuizApp.currentQuestion?InlineQuizApp.SetTextSlide(InlineQuizApp.QuizData.General.preQuizText,function(){InlineQuizApp.GoNextQuestion()},{mediaData:InlineQuizApp.QuizData.General.preQuizMedia}):(InlineQuizApp.currentQuestion--,InlineQuizApp.GoNextQuestion(),InlineQuizApp.RepopulateQuestion())},InlineQuizApp.GenerateFullReport=function(){var e=document.createElement("div");e.innerHTML="";var n=document.createElement("h"+(InlineQuizApp.headingLevel+1));for(n.setAttribute("id","ILQ_ContinuousResponseHeader"),n.innerHTML="Results: ",e.appendChild(n),a=0;a<InlineQuizApp.QuizData.General.showQuestions;a++)e.appendChild(InlineQuizApp.GenerateMiniReport(a,!0));btnTxt="none"===InlineQuizApp.QuizData.General.postQuizText&&"none"===InlineQuizApp.QuizData.General.postQuizMedia&&InlineQuizApp.QuizData.General.repeatOnComplete===!0?"Reset Activity":"Continue",InlineQuizApp.SetTextSlide(e.innerHTML,function(){if("none"===InlineQuizApp.QuizData.General.postQuizText&&"none"===InlineQuizApp.QuizData.General.postQuizMedia&&InlineQuizApp.QuizData.General.repeatOnComplete===!0){for(InlineQuizApp.QuizData.General.randomize&&(InlineQuizApp.QuizData.Questions=InlineQuizApp.shuffle(InlineQuizApp.QuizData.Questions)),InlineQuizApp.currentQuestion=0,InlineQuizApp.currentQuestionID=InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].QuestionID,q=InlineQuizApp.QuizData.Questions.length-1;q>=0;q--)InlineQuizApp.QuizData.Questions[q].QuestionID=q,InlineQuizApp.QuizData.Questions[q].ChosenAnswers=[];for(InlineQuizApp.savedText=[],i=0;i<InlineQuizApp.QuizData.Questions.length;i++)InlineQuizApp.savedText.push(0);btnTxt="Reset Activity",InlineQuizApp.GoNextQuestion()}else btnTxt="Continue",InlineQuizApp.goEndSlide()},{buttonLabel:btnTxt,addClass:"ILQ_fullReport"})},InlineQuizApp.GenerateMiniReport=function(e,n){void 0===e&&(e=InlineQuizApp.currentQuestion);var t=document.createElement("div");t.setAttribute("class","ILQ_miniReport");var a=document.createElement("div");for(a.setAttribute("class","ILQ_miniReportContent bg-light"),ca=InlineQuizApp.QuizData.Questions[e].ChosenAnswers,aa=InlineQuizApp.QuizData.Questions[e].answers,crta=[],i=aa.length-1;i>=0;i--)InlineQuizApp.QuizData.General.allowPartial&&aa[i].scoreValue>0?crta.push(aa[i].answerText):InlineQuizApp.QuizData.General.allowPartial||("All That Apply"===InlineQuizApp.QuizData.Questions[e].questionType&&aa[i].scoreValue>0?crta.push(aa[i].answerText):"Multiple Choice"===InlineQuizApp.QuizData.Questions[e].questionType&&aa[i].scoreValue===InlineQuizApp.QuizData.Questions[e].maxScoreValue&&crta.push(aa[i].answerText));cont="";var u='<p class="ILQ_miniReportHeader"><strong>Feedback: </strong>',s=[];if(n){var o=document.createElement("h"+(InlineQuizApp.headingLevel+2));if(o.setAttribute("class","ILQ_questionRecap"),"Fill In The Blank"===InlineQuizApp.QuizData.Questions[e].questionType||"Math"===InlineQuizApp.QuizData.Questions[e].questionType){for(qCopy=InlineQuizApp.QuizData.Questions[e].questionText,i=1;i<=InlineQuizApp.QuizData.Questions[e].answers.length;i++)blankField=InlineQuizApp.QuizData.Questions[e].answers[i-1].answerText,qWithoutBlank=qCopy.replace("BLANK"+i,"BLANK"),qCopy=qWithoutBlank;o.innerHTML="Question "+(e+1)+": "+qCopy,t.appendChild(o)}else o.innerHTML="Question "+(e+1)+": "+InlineQuizApp.QuizData.Questions[e].questionText,t.appendChild(o);InlineQuizApp.BuildResponseText(a,e)}else cont+="";if(cont+=crta.length>1?'<p class="ILQ_miniReportHeader" ><strong>Correct Answers:</strong> ':'<p class="ILQ_miniReportHeader" ><strong>Correct Answer:</strong> ',"Fill In The Blank"===InlineQuizApp.QuizData.Questions[e].questionType||"Math"===InlineQuizApp.QuizData.Questions[e].questionType){for(qCopy=InlineQuizApp.QuizData.Questions[e].questionText,i=1;i<=InlineQuizApp.QuizData.Questions[e].answers.length;i++)blankField="<span class='ILQ_ReferenceHighlight'>"+InlineQuizApp.QuizData.Questions[e].answers[i-1].answerText+"</span>",qWithoutBlank=qCopy.replace("BLANK"+i,blankField),qCopy=qWithoutBlank;cont+=qCopy}else for(i=crta.length-1;i>=0;i--)cont+=0===i?crta[i]:crta[i]+", ";if(cont+="</p>","Fill In The Blank"===InlineQuizApp.QuizData.Questions[e].questionType||"Math"===InlineQuizApp.QuizData.Questions[e].questionType){for(cont+='<p class="ILQ_miniReportHeader"><strong>You answered: </strong>',answer="",qCopy=InlineQuizApp.QuizData.Questions[e].questionText,i=0;i<InlineQuizApp.savedText[e].length;i++){if(InlineQuizApp.savedText[e][i]===InlineQuizApp.QuizData.Questions[e].answers[i].answerText?(answer="right",void 0!==InlineQuizApp.QuizData.Questions[e].answers[i].feedBack&&null!==InlineQuizApp.QuizData.Questions[e].answers[i].feedBack&&"none"!==InlineQuizApp.QuizData.Questions[e].answers[i].feedBack&&""!==InlineQuizApp.QuizData.Questions[e].answers[i].feedBack&&s.push(InlineQuizApp.QuizData.Questions[e].answers[i].feedBack)):answer="wrong",InlineQuizApp.QuizData.Questions[e].answers[i].altAnswers)for(j=0;j<InlineQuizApp.QuizData.Questions[e].answers[i].altAnswers.length;j++)InlineQuizApp.savedText[e][i]===InlineQuizApp.QuizData.Questions[e].answers[i].altAnswers[j].answerText&&(answer="altRight",void 0!==InlineQuizApp.QuizData.Questions[e].answers[i].altAnswers[j].feedBack&&null!==InlineQuizApp.QuizData.Questions[e].answers[i].altAnswers[j].feedBack&&"none"!==InlineQuizApp.QuizData.Questions[e].answers[i].altAnswers[j].feedBack&&""!==InlineQuizApp.QuizData.Questions[e].answers[i].altAnswers[j].feedBack&&s.push(InlineQuizApp.QuizData.Questions[e].answers[i].altAnswers[j].feedBack));switch(answer){case"right":blankField="<span class='ILQ_RightHighlight'>"+InlineQuizApp.savedText[e][i]+"</span>",altResponse="";break;case"altRight":blankField="<span class='ILQ_SimilarHighlight'>"+InlineQuizApp.savedText[e][i]+"</span>",altResponse="Instead of <span class='ILQ_ReferenceHighlight'>"+InlineQuizApp.savedText[e][i]+"</span> you could have answered <span class='ILQ_ReferenceHighlight'>"+InlineQuizApp.QuizData.Questions[e].answers[i].answerText+"</span>.<br>";break;default:blankField="<span class='ILQ_WrongHighlight'>"+InlineQuizApp.savedText[e][i]+"</span>",altResponse=""}qWithoutBlank=qCopy.replace("BLANK"+(i+1),blankField),qCopy=qWithoutBlank,u+=altResponse}for(console.log(s),i=0;i<=s.length-1;i++)u+=s[i]+"<br>";cont+=qCopy}else if(cont+='<p class="ILQ_miniReportHeader"><strong>You selected: </strong>',0===ca.length)cont+="None";else for(i=ca.length-1;i>=0;i--)cont+=0===i?aa[ca[i]].answerText:aa[ca[i]].answerText+", ",void 0!==aa[ca[i]].feedBack&&"none"!==aa[ca[i]].feedBack&&null!==aa[ca[i]].feedBack&&-1===u.indexOf(aa[ca[i]].feedBack)&&(u+=i==ca.length-1?aa[ca[i]].feedBack:"<br><br>"+aa[ca[i]].feedBack);return cont+="</p>",u+="</p>",'<p class="ILQ_miniReportHeader"><strong>Feedback: </strong></p>'===u?a.innerHTML+=cont:a.innerHTML+=cont+u,"All That Apply"==InlineQuizApp.QuizData.Questions[e].questionType&&InlineQuizApp.CheckForAndBuildGeneralFeedback(a,e),t.appendChild(a),t},InlineQuizApp.CheckForAndBuildGeneralFeedback=function(e,n){var i=InlineQuizApp.QuizData.Questions[n].generalFeedback;if(null==i||"none"==i)return!1;var t=document.createElement("p");t.className="ILQ_miniReportHeader",t.innerHTML="<strong>General Feedback: </strong>"+i,e.appendChild(t)},InlineQuizApp.BuildResponseText=function(e,n){var i=document.createElement("h"+(InlineQuizApp.headingLevel+3));i.setAttribute("class","ILQ_RecapResponseText");var t=document.createElement("img");t.setAttribute("class","ILQ_RecapResponseGraphic");var a=document.createElement("strong");qScore=InlineQuizApp.getQuestionScore(n),maxScore=InlineQuizApp.QuizData.Questions[n].maxScoreValue,!InlineQuizApp.QuizData.General.allowPartial&&maxScore>qScore&&(qScore=0),qScore>=maxScore?(t.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAaVBMVEUAAAD///8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE8AtE/Gi+VPAAAAInRSTlMAAAMGCg8VGxwkRk5bYWl4f4CIpbK6vsjJy9HT3OPk9vr9CZah7wAAAI1JREFUKM+V0ssSwiAMheF4q1Cq1Xq3SPF//4d0IXacEmY0K/KdTSZBZoWSYqBV14nuoCZ7gF3uLQCHks+nvgXguPjVNwCcMm+eAOflp210dzG69AC4rkaH6HKXG0CspY4A99Gl6gGGdgDoq69R3gmZixif3K8n46fEm2xxJgAPo5zABoJVj2Yvmf/9S17ioBIDP/nF2AAAAABJRU5ErkJggg=="),t.setAttribute("alt","Right Answer"),a.innerHTML="Your answer was correct. You scored "+qScore+" of a possible "+maxScore+" on this question."):0===qScore?(t.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAFVBMVEUAAADsAETsAETsAETsAETsAETsAESbXnh7AAAABnRSTlMAHDfN3PHYCvCAAAAAaklEQVQY02NgUBZgAANGIwYGpjBHCEckVYFBNS0FLMXolhbEYJaWBpYSSUtLBhEgKaAEUBBCwsTAFFQIIgWVgEhBJSBSMAmwFEwCIgWTQOUgK0MxANloFEuRnYPiUBQvoHgOxdsoAYIcVACPxDI1J3AY4QAAAABJRU5ErkJggg=="),t.setAttribute("alt","Wrong Answer"),a.innerHTML="Your answer was not correct. You scored "+qScore+" of a possible "+maxScore+" on this question."):InlineQuizApp.QuizData.General.allowPartial&&(t.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAS1BMVEUAAADsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQDsqQAXPjsCAAAAGHRSTlMAAxAUKCktL0ZOZ2xwgoSls8PHyeLv+PsorBT5AAAAoklEQVQoz3XSSxaDIBBE0YpCjB8MqOjb/0oziCIJWsMLp4FupG+sCxFicFZ5jCfFm9O7lSxrd/jIX8Z9P0U6STJrubAaSb7gDbxkC3+3gJUr/KEZnELp6iEolq4Goi5cNaALVwX8lNpdT4j54YdrgJBdN7kmcOcDT38BNrXk9HoBn5qY+bw3UR2wtanOcrR9H9TcN3X1HKZsUPejvf8MV9/nA0HMIXW5zA5eAAAAAElFTkSuQmCC"),t.setAttribute("alt","Partially Correct Answer"),a.innerHTML="Your answer was partially correct. You scored "+qScore+" of a possible "+maxScore+" on this question."),i.appendChild(t),i.appendChild(a),e.appendChild(i)},InlineQuizApp.DefineContainer=function(){ILQ_container=document.createElement("section"),ILQ_container.id="ILQ_container",ILQ_container.setAttribute("role","InlineQuizApplication"),InlineQuizApp.QuizData.General.hideTitle||(InlineQuizApp.headerRef=document.createElement("section"),InlineQuizApp.headerRef.id="ILQ_header",InlineQuizApp.headerRef.setAttribute("class","bg-dark"),InlineQuizApp.headerRef.setAttribute("role","title"),InlineQuizApp.headerRef.innerHTML="<h"+InlineQuizApp.headingLevel+">"+InlineQuizApp.QuizData.General.QuizName+"</h"+InlineQuizApp.headingLevel+">"),InlineQuizApp.contentRef=document.createElement("section"),InlineQuizApp.contentRef.setAttribute("aria-atomic","true"),InlineQuizApp.contentRef.setAttribute("aria-live","assertive"),InlineQuizApp.contentRef.setAttribute("aria-relevant","all"),InlineQuizApp.contentRef.id="ILQ_content",ILQ_container.appendChild(InlineQuizApp.contentRef),InlineQuizApp.containerRef.appendChild(ILQ_container)},InlineQuizApp.MakeFullBaseButton=function(e,n,i){void 0===i&&(i={});var t=document.createElement("div");return i.id&&t.setAttribute("id",i.id),t.setAttribute("class","ILQ_BaseButtonContainer FullButton"),t.setAttribute("tabindex",InlineQuizApp.tabIndexSet),InlineQuizApp.tabIndexSet++,i.disabled?(t.setAttribute("role","disabled"),$(t).addClass("ILQ_BaseButtonDisabled")):(t.setAttribute("role","button"),t.onclick=e,t.onkeypress=function(n){13!==n.keyCode&&32!==n.keyCode||e()},t.onmouseover=function(){$(this).addClass("over")},t.onfocus=function(){$(this).addClass("over")},t.onmousedown=function(){$(this).addClass("active")},t.onmouseout=function(){$(this).removeClass("over")},t.onblur=function(){$(this).removeClass("over")}),t.onselectstart=function(){return!1},ILQ_BaseButtonLabel=document.createElement("span"),ILQ_BaseButtonLabel.setAttribute("class","ILQ_BaseButtonLabel"),ILQ_BaseButtonLabel.innerHTML="<span class='ILQ_AccessOnly'>Disabled button: </span>"+n,i.disabled||($(ILQ_BaseButtonLabel.firstChild).css("display","none"),$(ILQ_BaseButtonLabel.firstChild).attr("aria-hidden","true")),t.appendChild(ILQ_BaseButtonLabel),ILQ_buttonSet.appendChild(t),t},InlineQuizApp.MakeBaseButtonSet=function(e,n){var i=document.createElement("span");return null!==e?(void 0===e.options&&(e.options={}),ILQ_LeftBaseButtonContainer=document.createElement("div"),e.options.id&&ILQ_LeftBaseButtonContainer.setAttribute("id",e.options.id),ILQ_LeftBaseButtonContainer.setAttribute("class","ILQ_BaseButtonContainer LeftHalfButton"),ILQ_LeftBaseButtonContainer.setAttribute("role","button"),e.options.disabled?($(ILQ_LeftBaseButtonContainer).addClass("ILQ_BaseButtonDisabled"),$(ILQ_LeftBaseButtonContainer).attr("role","disabled")):(ILQ_LeftBaseButtonContainer.onclick=e.onOK,ILQ_LeftBaseButtonContainer.onmouseover=function(){$(this).addClass("over")},ILQ_LeftBaseButtonContainer.onmouseout=function(){$(this).removeClass("over")},ILQ_LeftBaseButtonContainer.onkeypress=function(n){13!==n.keyCode&&32!==n.keyCode||e.onOK(n)},ILQ_LeftBaseButtonContainer.onmousedown=function(){$(this).addClass("active")},ILQ_LeftBaseButtonContainer.onfocus=function(){$(this).addClass("over")},ILQ_LeftBaseButtonContainer.onblur=function(){$(this).removeClass("over")}),ILQ_LeftBaseButtonContainer.onselectstart=function(){return!1},ILQ_BaseButtonLabel=document.createElement("span"),ILQ_BaseButtonLabel.setAttribute("class","ILQ_BaseButtonLabel"),ILQ_BaseButtonLabel.innerHTML="<span class='ILQ_AccessOnly'>Disabled button: </span>"+e.label,e.options.disabled||($(ILQ_BaseButtonLabel.firstChild).css("display","none"),$(ILQ_BaseButtonLabel.firstChild).attr("aria-hidden","true")),ILQ_LeftBaseButtonContainer.appendChild(ILQ_BaseButtonLabel),i.appendChild(ILQ_LeftBaseButtonContainer)):(ILQ_LeftBaseButtonContainer=document.createElement("div"),ILQ_LeftBaseButtonContainer.setAttribute("class","ILQ_BaseButtonContainer LeftHalfButton hidden"),i.appendChild(ILQ_LeftBaseButtonContainer)),null!==n?(void 0===n.options&&(n.options={}),ILQ_RightBaseButtonContainer=document.createElement("div"),ILQ_RightBaseButtonContainer.setAttribute("role","button"),n.options.id&&ILQ_RightBaseButtonContainer.setAttribute("id",n.options.id),ILQ_RightBaseButtonContainer.setAttribute("class","ILQ_BaseButtonContainer RightHalfButton"),n.options.disabled?($(ILQ_RightBaseButtonContainer).addClass("ILQ_BaseButtonDisabled"),$(ILQ_RightBaseButtonContainer).attr("role","disabled")):(ILQ_RightBaseButtonContainer.onclick=n.onOK,ILQ_RightBaseButtonContainer.onmouseover=function(){$(this).addClass("over")},ILQ_RightBaseButtonContainer.onmouseout=function(){$(this).removeClass("over")},ILQ_RightBaseButtonContainer.onkeypress=function(e){13!==e.keyCode&&32!==e.keyCode||n.onOK(e)},ILQ_RightBaseButtonContainer.onmousedown=function(){$(this).addClass("active")},ILQ_RightBaseButtonContainer.onfocus=function(){$(this).addClass("over")},ILQ_RightBaseButtonContainer.onblur=function(){$(this).removeClass("over")}),ILQ_RightBaseButtonContainer.onselectstart=function(){return!1},ILQ_BaseButtonLabel=document.createElement("span"),ILQ_BaseButtonLabel.setAttribute("class","ILQ_BaseButtonLabel"),ILQ_BaseButtonLabel.innerHTML="<span class='ILQ_AccessOnly'>Disabled button: </span>"+n.label,n.options.disabled||($(ILQ_BaseButtonLabel.firstChild).css("display","none"),$(ILQ_BaseButtonLabel.firstChild).attr("aria-hidden","true")),ILQ_RightBaseButtonContainer.appendChild(ILQ_BaseButtonLabel),i.appendChild(ILQ_RightBaseButtonContainer)):(ILQ_RightBaseButtonContainer=document.createElement("div"),ILQ_RightBaseButtonContainer.setAttribute("class","ILQ_BaseButtonContainer RightHalfButton hidden"),i.appendChild(ILQ_RightBaseButtonContainer)),ILQ_LeftBaseButtonContainer.setAttribute("tabindex",InlineQuizApp.tabIndexSet),InlineQuizApp.tabIndexSet++,ILQ_RightBaseButtonContainer.setAttribute("tabindex",InlineQuizApp.tabIndexSet),InlineQuizApp.tabIndexSet++,i},InlineQuizApp.MakeGenericButton=function(e,n,i){void 0===i&&(i={});var t=document.createElement("div");i.id&&t.setAttribute("id",i.id),t.setAttribute("class","ILQ_GenericButtonContainer Generic"),t.setAttribute("tabindex",InlineQuizApp.tabIndexSet),InlineQuizApp.tabIndexSet++,t.setAttribute("role","button"),i.disabled?$(t).addClass("ILQ_GenericButtonDisabled"):(t.onclick=e,t.onmouseover=function(){$(this).addClass("over")},t.onmouseout=function(){$(this).removeClass("over")},t.onkeypress=function(n){13!==n.keyCode&&32!==n.keyCode||e(n)},t.onmousedown=function(){$(this).addClass("active")},t.onfocus=function(){$(this).addClass("over")},t.onblur=function(){$(this).removeClass("over")}),t.onselectstart=function(){return!1};var a=document.createElement("span");return a.setAttribute("class","ILQ_GenericLabel"),a.innerHTML="<span class='ILQ_AccessOnly'>Disabled button: </span>"+n,i.disabled||($(a.firstChild).css("display","none"),$(a.firstChild).attr("aria-hidden","true")),t.appendChild(a),t},InlineQuizApp.EmbedMedia=function(e,n){var i,t,a=document.createElement("div");switch(a.setAttribute("class","ILQ_Media"),void 0!==n.mediaLink&&null!==n.mediaLink||(n.mediaLink="none"),void 0===n.width||null===n.width||"none"===n.width?n.width="none":n.width.constructor===String&&(n.width=parseInt(n.width)),void 0===n.height||null===n.height||"none"===n.height?n.height="none":n.height.constructor===String&&(n.height=parseInt(n.height)),n.type){case"link":i=document.createElement("a"),i.setAttribute("class","ILQ_MediaLink"),i.setAttribute("href",n.src),i.setAttribute("target","_blank"),i.setAttribute("tabindex",InlineQuizApp.tabIndexSet),InlineQuizApp.tabIndexSet++,n.description?i.innerHTML=n.description:i.innerHTML="Link",a.appendChild(i);break;case"image":"none"!==n.mediaLink&&(t=document.createElement("a"),t.setAttribute("class","ILQ_MediaImage"),t.setAttribute("href",n.mediaLink),t.setAttribute("tabindex",InlineQuizApp.tabIndexSet),InlineQuizApp.tabIndexSet++,t.setAttribute("target","_blank")),i=document.createElement("img"),"none"===n.mediaLink&&i.setAttribute("class","ILQ_MediaImage"),i.setAttribute("src",n.src),"none"!==n.width&&i.setAttribute("width",n.width),"none"!==n.height&&i.setAttribute("height",n.height),a.setAttribute("style","text-align:center;"),n.description&&i.setAttribute("alt",n.description),"none"===n.mediaLink?a.appendChild(i):(t.appendChild(i),a.appendChild(t));break;case"YouTubeVideo":validSrc=InlineQuizApp.validateYouTubeLink(n.src),validSrc&&(i=document.createElement("iframe"),i.setAttribute("class","ILQ_MediaEmbeddedVideo"),"none"!==n.width?i.setAttribute("width",n.width):i.setAttribute("width","420"),"none"!==n.height?i.setAttribute("height",n.height):i.setAttribute("height","315"),i.setAttribute("frameborder","0"),i.setAttribute("allowfullscreen","true"),i.setAttribute("src",validSrc),a.setAttribute("style","text-align:center;"),n.description&&i.setAttribute("alt",n.description),a.appendChild(i));break;case"text":i=document.createElement("p"),i.setAttribute("class","ILQ_MediaText"),i.setAttribute("target","_blank"),i.innerHTML=n.content,a.appendChild(i);break;default:d2log("Warning! Unknown media type requested, ignoring embed request.")}e.appendChild(a)},InlineQuizApp.validateYouTubeLink=function(e){return-1!==e.indexOf("www.youtube.com")?-1===e.indexOf("</iframe>")?-1!==e.indexOf("watch?v=")?(code=e.slice(e.indexOf("?v=")+3),"https://www.youtube.com/embed/"+code):(d2log("Provided link was not proper YouTubeVideo link."),!1):-1!==e.indexOf("https://www.youtube.com/embed/")?link.slice(link.indexOf("src")+5,link.indexOf('"',link.indexOf("src")+5)):(d2log("Provided link was not proper YouTubeVideo link."),!1):(d2log("Provided link was not a YouTubeVideo link."),!1)},InlineQuizApp.SetTextSlide=function(e,n,t){InlineQuizApp.tabIndexSet=1,void 0===t&&(t={}),void 0!==t.buttonLabel&&t.buttonLabel.constructor===String||(t.buttonLabel="Start Activity"),InlineQuizApp.contentRef.innerHTML="";var a=document.createElement("div");if(a.setAttribute("class","ILQ_Description"),void 0!==t.addClass&&null!==t.addClass&&"none"!==t.addClass?a.setAttribute("class","ILQ_Description "+t.addClass):a.setAttribute("class","ILQ_Description"),InlineQuizApp.isHint===!0?a.innerHTML="<h"+(InlineQuizApp.headingLevel+1)+' class="ILQ_hintHeader">Question '+(InlineQuizApp.currentQuestion+1)+" Hint: </h"+(InlineQuizApp.headingLevel+1)+"><p>"+e+"</p>":a.innerHTML=e,null!==t.mediaData&&void 0!==t.mediaData&&"none"!==t.mediaData&&""!==t.mediaData){var u=document.createElement("div");for(u.setAttribute("class","ILQ_MediaContainer"),i=0;i<t.mediaData.length;i++)InlineQuizApp.EmbedMedia(u,t.mediaData[i]);a.appendChild(u)}ILQ_buttonSet=document.createElement("div"),ILQ_buttonSet.id="ILQ_buttonSet";var s=navigator.appName;"Microsoft Internet Explorer"!==s&&"Netscape"!==s||(InlineQuizApp.headerRef.innerHTML="<h"+InlineQuizApp.headingLevel+">"+InlineQuizApp.QuizData.General.QuizName+"</h"+InlineQuizApp.headingLevel+">"),InlineQuizApp.headerAnimated===!1?($(InlineQuizApp.headerRef).hide().appendTo(InlineQuizApp.contentRef).slideDown(500,"swing"),InlineQuizApp.headerAnimated=!0):InlineQuizApp.contentRef.appendChild(InlineQuizApp.headerRef),$(a).hide().appendTo(InlineQuizApp.contentRef).fadeIn(500),$(ILQ_buttonSet).hide().appendTo(InlineQuizApp.contentRef).fadeIn(500),void 0!==n&&"none"!==n?ILQ_buttonSet.appendChild(InlineQuizApp.MakeFullBaseButton(n,t.buttonLabel)):a.setAttribute("style","border-radius:7px"),$(".d2l-page-title",window.parent.document).length>0&&$("body",window.parent.document).animate({scrollTop:$(".d2l-page-title",window.parent.document).offset().top},1e3)},InlineQuizApp.setQuestionSlide=function(e,n){var t;switch(InlineQuizApp.tabIndexSet=1,void 0===n&&(n={}),e.questionType){case"Multiple Choice":ILQ_container.setAttribute("class","mc");break;case"Fill In The Blank":ILQ_container.setAttribute("class","fb");break;case"All That Apply":ILQ_container.setAttribute("class","aa");break;case"Math":ILQ_container.setAttribute("class","ma")}ILQ_container.setAttribute("class",ILQ_container.getAttribute("class")+" "+InlineQuizApp.QuizData.General.feedBackType),void 0!==n.buttonLabel&&n.buttonLabel.constructor===String||("continuous"===InlineQuizApp.QuizData.General.feedBackType?n.buttonLabel="Check Answer":n.buttonLabel="Continue"),InlineQuizApp.contentRef.innerHTML="";var a=navigator.appName;"Microsoft Internet Explorer"!==a&&"Netscape"!==a||(InlineQuizApp.headerRef.innerHTML="<h"+InlineQuizApp.headingLevel+">"+InlineQuizApp.QuizData.General.QuizName+"</h"+InlineQuizApp.headingLevel+">"),InlineQuizApp.headerAnimated===!1?($(InlineQuizApp.headerRef).hide().appendTo(InlineQuizApp.contentRef).slideDown(750,"swing"),InlineQuizApp.headerAnimated=!0):InlineQuizApp.contentRef.appendChild(InlineQuizApp.headerRef),"none"!==InlineQuizApp.QuizData.General.instructions&&(ILQ_instructionText=document.createElement("p"),ILQ_instructionText.setAttribute("class","ILQ_instructionText"),ILQ_instructionText.innerHTML=InlineQuizApp.QuizData.General.instructions,$(ILQ_instructionText).hide().appendTo(InlineQuizApp.contentRef).fadeIn(750));var u=document.createElement("h"+(InlineQuizApp.headingLevel+1));InlineQuizApp.QuizData.General.hideTitle?u.setAttribute("class","ILQ_questionHeader ILQ_CompressedHeader"):u.setAttribute("class","ILQ_questionHeader"),qt=InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionTitle,qt?u.innerHTML=qt:u.innerHTML="Question "+(InlineQuizApp.currentQuestion+1)+"/"+InlineQuizApp.QuizData.General.showQuestions+": ";var s=document.createElement("p");if(s.setAttribute("class","ILQ_questionText"),"Fill In The Blank"===e.questionType)for(InlineQuizApp.inputText=[],InlineQuizApp.textInterval=setInterval(InlineQuizApp.HandleTextInput,1e3),qCopy=e.questionText,i=1;i<=e.answers.length;i++)blankField="<label for='blank'"+i+" class='blankLabel'>BLANK"+i+"</label><input type='text' placeholder='BLANK' class='blank' id='blank"+i+"' tabindex='"+InlineQuizApp.tabIndexSet+"' spellcheck='true' autocorrect='on' aria-required='true' required/>",qWithoutBlank=qCopy.replace("BLANK"+i,blankField),s.innerHTML=qWithoutBlank,qCopy=qWithoutBlank,InlineQuizApp.tabIndexSet++;else if("Math"===e.questionType)for(InlineQuizApp.inputText=[],InlineQuizApp.textInterval=setInterval(InlineQuizApp.HandleTextInput,1e3),qCopy=e.questionText,i=1;i<=e.answers.length;i++)blankField="<label for='blank'"+i+" class='blankLabel'>BLANK"+i+"</label><input type='text' placeholder='#' class='number' id='number"+i+"' tabindex='"+InlineQuizApp.tabIndexSet+"' spellcheck='true' autocorrect='on' aria-required='true' required/>",qWithoutBlank=qCopy.replace("BLANK"+i,blankField),s.innerHTML=qWithoutBlank,
qCopy=qWithoutBlank,InlineQuizApp.tabIndexSet++;else s.innerHTML=e.questionText;var o=document.createElement("div");o.setAttribute("style","clear:both;"),InlineQuizApp.contentRef.appendChild(o);var l=document.createElement("div");if(l.setAttribute("class","ILQ_quizField"),"Multiple Choice"===e.questionType||"All That Apply"===e.questionType?l.setAttribute("role","radiogroup"):l.setAttribute("role","textbox"),"Fill In The Blank"!==e.questionType&&"Math"!==e.questionType)for(i=0;i<e.answers.length;i++){var p=document.createElement("div");p.id="AnswerSlot_"+i,p.setAttribute("class","ILQ_AnswerSlot"),p.setAttribute("tabindex",InlineQuizApp.tabIndexSet),InlineQuizApp.tabIndexSet++,"Multiple Choice"===e.questionType?p.setAttribute("role","radio"):p.setAttribute("role","checkbox"),p.setAttribute("aria-checked","false"),p.onclick=InlineQuizApp.HandleAnswerSelection,p.onmouseover=function(){$(this).addClass("over")},p.onmouseout=function(){$(this).removeClass("over"),$(this).removeClass("down")},p.onmousedown=function(){$(this).addClass("down"),$(this).removeClass("over")},p.onmouseup=function(){$(this).addClass("over"),$(this).removeClass("down")},p.onkeypress=function(e){13!==e.keyCode&&32!==e.keyCode||InlineQuizApp.HandleAnswerSelection(e)},p.onfocus=function(){$(this).addClass("over")},p.onblur=function(){$(this).removeClass("over")},p.onselectstart=function(){return!1};var r=document.createElement("div");"Multiple Choice"===e.questionType?r.setAttribute("class","ILQ_impCont ILQ_radio"):"All That Apply"===e.questionType&&r.setAttribute("class","ILQ_impCont ILQ_check"),p.appendChild(r);var Q=document.createElement("div");Q.setAttribute("class","ILQ_answerLabel"),Q.innerHTML="<span class='ILQ_AccessOnly'>Disabled Answer Slot: </span>"+e.answers[i].answerText,$(Q.firstChild).css("display","none"),$(Q.firstChild).attr("aria-hidden","true"),p.appendChild(Q),l.appendChild(p)}ILQ_buttonSet=document.createElement("div"),ILQ_buttonSet.id="ILQ_buttonSet",$(u).hide().appendTo(InlineQuizApp.contentRef).fadeIn(500),$(s).hide().appendTo(InlineQuizApp.contentRef).fadeIn(500),$(l).hide().appendTo(InlineQuizApp.contentRef).fadeIn(500),$(ILQ_buttonSet).hide().appendTo(InlineQuizApp.contentRef).fadeIn(500),InlineQuizApp.QuizData.General.showHints&&"none"!==e.hintText&&(t=InlineQuizApp.MakeGenericButton(function(){InlineQuizApp.ShowHint()},"Hint",{id:"ILQ_HintButton"}),ILQ_buttonSet.appendChild(t)),InlineQuizApp.QuizData.General.allowPrevious?InlineQuizApp.currentQuestion<1&&"none"===InlineQuizApp.QuizData.General.preQuizText&&"none"===InlineQuizApp.QuizData.General.preQuizMedia?ILQ_buttonSet.appendChild(InlineQuizApp.MakeFullBaseButton(InlineQuizApp.RequestNextQuestion,n.buttonLabel,{disabled:!InlineQuizApp.QuizData.General.allowNone,id:"ILQ_quizNextBtn"})):(leftBtnData={onOK:InlineQuizApp.goPreviousQuestion,label:"Go Back",options:{disabled:InlineQuizApp.currentQuestion<1&&"none"===InlineQuizApp.QuizData.General.preQuizText&&"none"===InlineQuizApp.QuizData.General.preQuizMedia,id:"ILQ_quizPreviousBtn"}},ILQ_buttonSet.appendChild(InlineQuizApp.MakeBaseButtonSet(leftBtnData,{onOK:InlineQuizApp.RequestNextQuestion,label:n.buttonLabel,options:{disabled:!InlineQuizApp.QuizData.General.allowNone,id:"ILQ_quizNextBtn"}}))):ILQ_buttonSet.appendChild(InlineQuizApp.MakeFullBaseButton(InlineQuizApp.RequestNextQuestion,n.buttonLabel,{disabled:!InlineQuizApp.QuizData.General.allowNone,id:"ILQ_quizNextBtn"})),$("#ILQ_quizNextBtn").prop("disabled",!0)&&$("#ILQ_quizNextBtn").hide(),$(".d2l-page-title",window.parent.document).length>0&&$("body",window.parent.document).animate({scrollTop:$(".d2l-page-title",window.parent.document).offset().top},1e3)},InlineQuizApp.ShowHint=function(){clearInterval(InlineQuizApp.textInterval),InlineQuizApp.isHint=!0,InlineQuizApp.SetTextSlide(InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].hintText,function(){InlineQuizApp.GoNextQuestion(),InlineQuizApp.RepopulateQuestion(),InlineQuizApp.isHint=!1},{mediaData:InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].hintMedia,buttonLabel:"Back to Question"})},InlineQuizApp.RepopulateQuestion=function(){if("All That Apply"===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType||"Multiple Choice"===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType)for(i=0;i<InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].ChosenAnswers.length;i++)temp=document.getElementById("AnswerSlot_"+InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].ChosenAnswers[i]),temp.setAttribute("aria-checked","true"),$(temp.firstChild).addClass("selected"),InlineQuizApp.HandleAnswerSelection("repop");else if("Fill In The Blank"===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType)for(i=0;i<InlineQuizApp.savedText[InlineQuizApp.currentQuestion].length;i++)document.getElementById("blank"+(i+1)).value=InlineQuizApp.savedText[InlineQuizApp.currentQuestion][i];else if("Math"===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType)for(i=0;i<InlineQuizApp.savedText[InlineQuizApp.currentQuestion].length;i++)document.getElementById("number"+(i+1)).value=InlineQuizApp.savedText[InlineQuizApp.currentQuestion][i]},InlineQuizApp.HandleAnswerSelection=function(e){"repop"===e?InlineQuizApp.QuizData.General.allowNone||"All That Apply"!==InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType&&"Multiple Choice"!==InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType||(0===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].ChosenAnswers.length?($("#ILQ_quizNextBtn").addClass("ILQ_BaseButtonDisabled"),$("#ILQ_quizNextBtn").attr("role","disabled"),$("#ILQ_quizNextBtn").fadeOut(250),$("#ILQ_quizNextBtn .ILQ_AccessOnly").css("display","inline"),$("#ILQ_quizNextBtn .ILQ_AccessOnly").attr("aria-hidden","false"),$("#ILQ_quizNextBtn")[0].onclick=void 0,$("#ILQ_quizNextBtn")[0].onmouseover=void 0,$("#ILQ_quizNextBtn")[0].onmouseout=void 0,$("#ILQ_quizNextBtn")[0].onfocus=void 0,$("#ILQ_quizNextBtn")[0].onblur=void 0,$("#ILQ_quizNextBtn")[0].onkeypress=void 0):($("#ILQ_quizNextBtn").removeClass("ILQ_BaseButtonDisabled"),$("#ILQ_quizNextBtn").attr("role","button"),$("#ILQ_quizNextBtn").removeAttr("disabled"),$("#ILQ_quizNextBtn").fadeIn(500),$("#ILQ_quizNextBtn .ILQ_AccessOnly").css("display","none"),$("#ILQ_quizNextBtn .ILQ_AccessOnly").attr("aria-hidden","true"),$("#ILQ_quizNextBtn")[0].onclick=InlineQuizApp.RequestNextQuestion,$("#ILQ_quizNextBtn")[0].onmouseover=function(){$(this).addClass("over")},$("#ILQ_quizNextBtn")[0].onmouseout=function(){$(this).removeClass("over")},$("#ILQ_quizNextBtn")[0].onfocus=function(){$(this).addClass("over")},$("#ILQ_quizNextBtn")[0].onblur=function(){$(this).removeClass("over")},$("#ILQ_quizNextBtn")[0].onkeypress=function(e){13!==e.keyCode&&32!==e.keyCode||InlineQuizApp.RequestNextQuestion(e)})):(selectedSlot=e.target,-1===selectedSlot.className.indexOf("ILQ_AnswerSlot")&&(selectedSlot=selectedSlot.parentNode,-1===selectedSlot.className.indexOf("ILQ_AnswerSlot")&&(selectedSlot=selectedSlot.parentNode)),impContainer=selectedSlot.firstChild,InlineQuizApp.HasClass(impContainer,"ILQ_check")?InlineQuizApp.HasClass(impContainer,"selected")?($(impContainer).removeClass("selected"),$(impContainer)[0].parentElement.setAttribute("aria-checked","false")):($(impContainer).addClass("selected"),$(impContainer)[0].parentElement.setAttribute("aria-checked","true")):InlineQuizApp.HasClass(impContainer,"selected")||(0!==$(".selected").length&&($(".selected").parent().attr("aria-checked","false"),$(".selected").removeClass("selected")),$(impContainer).addClass("selected"),$(impContainer)[0].parentElement.setAttribute("aria-checked","true")),InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].ChosenAnswers=[],$(".selected").each(function(e){idx=parseInt($(".selected")[e].parentElement.id.replace("AnswerSlot_",0)),InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].ChosenAnswers.push(idx)}),InlineQuizApp.QuizData.General.allowNone||"All That Apply"!==InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType&&"Multiple Choice"!==InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType||(0===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].ChosenAnswers.length?($("#ILQ_quizNextBtn").addClass("ILQ_BaseButtonDisabled"),$("#ILQ_quizNextBtn").attr("role","disabled"),$("#ILQ_quizNextBtn").fadeOut(250),$("#ILQ_quizNextBtn .ILQ_AccessOnly").css("display","inline"),$("#ILQ_quizNextBtn .ILQ_AccessOnly").attr("aria-hidden","false"),$("#ILQ_quizNextBtn")[0].onclick=void 0,$("#ILQ_quizNextBtn")[0].onmouseover=void 0,$("#ILQ_quizNextBtn")[0].onmouseout=void 0,$("#ILQ_quizNextBtn")[0].onfocus=void 0,$("#ILQ_quizNextBtn")[0].onblur=void 0,$("#ILQ_quizNextBtn")[0].onkeypress=void 0):($("#ILQ_quizNextBtn").removeClass("ILQ_BaseButtonDisabled"),$("#ILQ_quizNextBtn").attr("role","button"),$("#ILQ_quizNextBtn").removeAttr("disabled"),$("#ILQ_quizNextBtn").fadeIn(500),$("#ILQ_quizNextBtn .ILQ_AccessOnly").css("display","none"),$("#ILQ_quizNextBtn .ILQ_AccessOnly").attr("aria-hidden","true"),$("#ILQ_quizNextBtn")[0].onclick=InlineQuizApp.RequestNextQuestion,$("#ILQ_quizNextBtn")[0].onmouseover=function(){$(this).addClass("over")},$("#ILQ_quizNextBtn")[0].onmouseout=function(){$(this).removeClass("over")},$("#ILQ_quizNextBtn")[0].onfocus=function(){$(this).addClass("over")},$("#ILQ_quizNextBtn")[0].onblur=function(){$(this).removeClass("over")},$("#ILQ_quizNextBtn")[0].onkeypress=function(e){13!==e.keyCode&&32!==e.keyCode||InlineQuizApp.RequestNextQuestion(e)})))},InlineQuizApp.HandleTextInput=function(){if(InlineQuizApp.saveTextInput(),blankCount=0,"Fill In The Blank"===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType)for(i=1;i<=InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].answers.length;i++)blankText=document.getElementById("blank"+i).value,""!==blankText&&blankCount++;else if("Math"===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType)for($("input").keydown(function(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13,40,45,61,109,110,173,189,190])||65===e.keyCode&&e.ctrlKey===!0||67===e.keyCode&&e.ctrlKey===!0||88===e.keyCode&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=39||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}),i=1;i<=InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].answers.length;i++)blankText=document.getElementById("number"+i).value,""!==blankText&&blankCount++;InlineQuizApp.QuizData.General.allowNone||(blankCount===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].answers.length?($("#ILQ_quizNextBtn").removeClass("ILQ_BaseButtonDisabled"),$("#ILQ_quizNextBtn").attr("role","button"),$("#ILQ_quizNextBtn").removeAttr("disabled"),$("#ILQ_quizNextBtn").fadeIn(500),$("#ILQ_quizNextBtn .ILQ_AccessOnly").css("display","none"),$("#ILQ_quizNextBtn .ILQ_AccessOnly").attr("aria-hidden","true"),$("#ILQ_quizNextBtn")[0].onclick=InlineQuizApp.RequestNextQuestion,$("#ILQ_quizNextBtn")[0].onmouseover=function(){$(this).addClass("over")},$("#ILQ_quizNextBtn")[0].onmouseout=function(){$(this).removeClass("over")},$("#ILQ_quizNextBtn")[0].onfocus=function(){$(this).addClass("over")},$("#ILQ_quizNextBtn")[0].onblur=function(){$(this).removeClass("over")},$("#ILQ_quizNextBtn")[0].onkeypress=function(e){13!==e.keyCode&&32!==e.keyCode||InlineQuizApp.RequestNextQuestion(e)}):($("#ILQ_quizNextBtn").addClass("ILQ_BaseButtonDisabled"),$("#ILQ_quizNextBtn").attr("role","disabled"),$("#ILQ_quizNextBtn").fadeOut(500),$("#ILQ_quizNextBtn .ILQ_AccessOnly").css("display","inline"),$("#ILQ_quizNextBtn .ILQ_AccessOnly").attr("aria-hidden","false"),$("#ILQ_quizNextBtn")[0].onclick=void 0,$("#ILQ_quizNextBtn")[0].onmouseover=void 0,$("#ILQ_quizNextBtn")[0].onmouseout=void 0,$("#ILQ_quizNextBtn")[0].onfocus=void 0,$("#ILQ_quizNextBtn")[0].onblur=void 0,$("#ILQ_quizNextBtn")[0].onkeypress=void 0))},InlineQuizApp.getQuestionScore=function(e){if(void 0===e&&(e=InlineQuizApp.currentQuestion),"Fill In The Blank"===InlineQuizApp.QuizData.Questions[e].questionType||"Math"===InlineQuizApp.QuizData.Questions[e].questionType){for(score=0,altAnswered=!1,i=0;i<InlineQuizApp.QuizData.Questions[e].answers.length;i++)if(InlineQuizApp.QuizData.Questions[e].answers[i].answerText===InlineQuizApp.savedText[e][i])score+=InlineQuizApp.QuizData.Questions[e].answers[i].scoreValue;else if(InlineQuizApp.QuizData.Questions[e].answers[i].altAnswers){for(j=0;j<InlineQuizApp.QuizData.Questions[e].answers[i].altAnswers.length;j++)InlineQuizApp.QuizData.Questions[e].answers[i].altAnswers[j].answerText===InlineQuizApp.savedText[e][i]&&(score+=InlineQuizApp.QuizData.Questions[e].answers[i].altAnswers[j].scoreValue,altAnswered=!0);altAnswered!==!0&&InlineQuizApp.QuizData.General.subtractWrong===!0&&score--}else InlineQuizApp.QuizData.General.subtractWrong===!0&&score--;return 0>score&&(score=0),InlineQuizApp.inputScores.splice(e,1,score),score}if(ca=InlineQuizApp.QuizData.Questions[e].ChosenAnswers,aa=InlineQuizApp.QuizData.Questions[e].answers,score=0,0===ca.length)return 0;for(i=aa.length-1;i>=0;i--)aa[i].scoreValue>0&&-1!==$.inArray(i,ca)?score+=aa[i].scoreValue:0===aa[i].scoreValue&&-1!==$.inArray(i,ca)&&InlineQuizApp.QuizData.General.subtractWrong===!0&&score--;return 0>score&&(score=0),score},InlineQuizApp.GetTotalScore=function(){for(score=0,k=0;k<InlineQuizApp.QuizData.Questions.length;k++)score+="Fill In The Blank"===InlineQuizApp.QuizData.Questions[k].questionType||"Math"===InlineQuizApp.QuizData.Questions[k].questionType?InlineQuizApp.inputScores[k]:InlineQuizApp.getQuestionScore(k);return score},InlineQuizApp.GetMaxScore=function(){for(n=0,i=0;i<InlineQuizApp.QuizData.Questions.length;i++)n+=InlineQuizApp.QuizData.Questions[i].maxScoreValue;return n},InlineQuizApp.DisableButtons=function(){$(".ILQ_BaseButtonContainer").addClass("ILQ_BaseButtonDisabled"),$(".ILQ_BaseButtonContainer").attr("role","disabled"),$(".ILQ_BaseButtonContainer .ILQ_AccessOnly").css("display","inline"),$(".ILQ_BaseButtonContainer .ILQ_AccessOnly").attr("aria-hidden","false"),$(".ILQ_BaseButtonContainer").prop("onclick",null),$(".ILQ_BaseButtonContainer").prop("onmouseover",null),$(".ILQ_BaseButtonContainer").prop("onmousedown",null),$(".ILQ_BaseButtonContainer").prop("onmouseup",null),$(".ILQ_BaseButtonContainer").prop("onfocus",null),$(".ILQ_BaseButtonContainer").prop("onblur",null),$(".ILQ_BaseButtonContainer").prop("onkeypress",null),$(".ILQ_quizField").attr("role","disabled"),$(".ILQ_AnswerSlot").prop("onclick",null),$(".ILQ_AnswerSlot").prop("onmouseover",null),$(".ILQ_AnswerSlot").prop("onmousedown",null),$(".ILQ_AnswerSlot").prop("onmouseup",null),$(".ILQ_AnswerSlot").prop("onfocus",null),$(".ILQ_AnswerSlot").prop("onblur",null),$(".ILQ_AnswerSlot").prop("onkeypress",null),$(".ILQ_AnswerSlot").attr("role","disabled"),$(".ILQ_AnswerSlot .ILQ_AccessOnly").css("display","inline"),$(".ILQ_AnswerSlot .ILQ_AccessOnly").attr("aria-hidden","false"),$("#ILQ_HintButton").addClass("ILQ_BaseButtonDisabled"),$("#ILQ_HintButton").attr("role","disabled"),$("#ILQ_HintButton .ILQ_AccessOnly").css("display","inline"),$("#ILQ_HintButton .ILQ_AccessOnly").attr("aria-hidden","false"),$("#ILQ_HintButton").prop("onclick",null),$("#ILQ_HintButton").prop("onmouseover",null),$("#ILQ_HintButton").prop("onmousedown",null),$("#ILQ_HintButton").prop("onmouseup",null),$("#ILQ_HintButton").prop("onfocus",null),$("#ILQ_HintButton").prop("onblur",null),$("#ILQ_HintButton").prop("onkeypress",null)},InlineQuizApp.saveTextInput=function(){if(InlineQuizApp.inputText=[],"Fill In The Blank"===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType){for(i=1;i<=InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].answers.length;i++)qAnswer=document.getElementById("blank"+i).value,qAnswer=qAnswer.replace(/</g,"&lt;").replace(/>/g,"&gt;"),capAnswer=qAnswer.toUpperCase(),capAnswer=capAnswer.trim(),InlineQuizApp.inputText.push(capAnswer);InlineQuizApp.savedText.splice(InlineQuizApp.currentQuestion,1,InlineQuizApp.inputText)}else if("Math"===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType){for(i=1;i<=InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].answers.length;i++)qAnswer=document.getElementById("number"+i).value,numAnswer=qAnswer.toString(),numAnswer=numAnswer.trim(),InlineQuizApp.inputText.push(numAnswer);InlineQuizApp.savedText.splice(InlineQuizApp.currentQuestion,1,InlineQuizApp.inputText)}},InlineQuizApp.AssessFeedback=function(){InlineQuizApp.saveTextInput(),qScore=InlineQuizApp.getQuestionScore(),maxScore=InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].maxScoreValue,!InlineQuizApp.QuizData.General.allowPartial&&maxScore>qScore&&(qScore=0),null===document.getElementById("ILQ_ContinuousResponseCont")?(ILQ_ContinuousResponseCont=document.createElement("div"),ILQ_ContinuousResponseCont.setAttribute("id","ILQ_ContinuousResponseCont"),ILQ_ContinuousResponseCont.setAttribute("class","bg-light")):(ILQ_ContinuousResponseCont=document.getElementById("ILQ_ContinuousResponseCont"),ILQ_ContinuousResponseCont.innerHTML="");var e=document.createElement("h"+(InlineQuizApp.headingLevel+1));e.setAttribute("id","ILQ_ContinuousResponseHeader"),e.innerHTML="Results: ";var n=document.createElement("p");if(n.setAttribute("class","ILQ_ContinuousResponseText"),InlineQuizApp.QuizData.General.forceCorrect===!0)InlineQuizApp.BuildResponseText(n,InlineQuizApp.currentQuestion),qScore>=maxScore&&(InlineQuizApp.DisableButtons(),$("#ILQ_buttonSet").hide(500),btnTxt=InlineQuizApp.currentQuestion<InlineQuizApp.QuizData.General.showQuestions-1?"Next Question":"none"===InlineQuizApp.QuizData.General.postQuizText&&"none"===InlineQuizApp.QuizData.General.postQuizMedia&&InlineQuizApp.QuizData.General.repeatOnComplete===!0?"Reset Activity":"Finish Activity",nextBtn=InlineQuizApp.MakeGenericButton(function(){if("Reset Activity"===btnTxt){for(InlineQuizApp.QuizData.General.randomize&&(InlineQuizApp.QuizData.Questions=InlineQuizApp.shuffle(InlineQuizApp.QuizData.Questions)),InlineQuizApp.currentQuestion=0,InlineQuizApp.currentQuestionID=InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].QuestionID,q=InlineQuizApp.QuizData.Questions.length-1;q>=0;q--)InlineQuizApp.QuizData.Questions[q].QuestionID=q,InlineQuizApp.QuizData.Questions[q].ChosenAnswers=[];for(InlineQuizApp.savedText=[],i=0;i<InlineQuizApp.QuizData.Questions.length;i++)InlineQuizApp.savedText.push(0);InlineQuizApp.GoNextQuestion()}else InlineQuizApp.currentQuestion++,InlineQuizApp.currentQuestion<InlineQuizApp.QuizData.General.showQuestions&&(InlineQuizApp.currentQuestionID=InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].QuestionID),InlineQuizApp.GoNextQuestion()},btnTxt,{id:"ILQ_NextButton"}),ILQ_ContinuousResponseCont.appendChild(nextBtn)),ILQ_ContinuousResponseCont.appendChild(e),ILQ_ContinuousResponseCont.appendChild(n);else{if(InlineQuizApp.DisableButtons(),$("#ILQ_buttonSet").hide(500),ca=InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].ChosenAnswers,aa=InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].answers,"All That Apply"===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType||"Multiple Choice"===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType)for(z=0;z<InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].answers.length;z++)"none"!==InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].answers[z].scoreValue&&null!==InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].answers[z].scoreValue&&void 0!==InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].answers[z].scoreValue&&""!==InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].answers[z].scoreValue||(InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].answers[z].scoreValue=0);for(var i=aa.length-1;i>=0;i--)aa[i].scoreValue>=maxScore?$("#AnswerSlot_"+i).addClass("correct"):0!==aa[i].scoreValue&&"All That Apply"===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType?$("#AnswerSlot_"+i).addClass("correct"):0!==aa[i].scoreValue&&InlineQuizApp.QuizData.General.allowPartial?InlineQuizApp.QuizData.General.allowPartial&&$("#AnswerSlot_"+i).addClass("partial"):$("#AnswerSlot_"+i).addClass("incorrect"),-1!==$.inArray(i,ca)?aa[i].scoreValue>=maxScore?$("#AnswerSlot_"+i).addClass("AnsCorrect"):0!==aa[i].scoreValue&&"All That Apply"===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType?$("#AnswerSlot_"+i).addClass("AnsCorrect"):0!==aa[i].scoreValue&&InlineQuizApp.QuizData.General.allowPartial?InlineQuizApp.QuizData.General.allowPartial&&$("#AnswerSlot_"+i).addClass("AnsPartial"):$("#AnswerSlot_"+i).addClass("AnsIncorrect"):-1===$.inArray(i,ca)&&0!==aa[i].scoreValue&&"All That Apply"===InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].questionType&&$("#AnswerSlot_"+i).addClass("AnsPartial");InlineQuizApp.BuildResponseText(n,InlineQuizApp.currentQuestion),n.appendChild(InlineQuizApp.GenerateMiniReport()),ILQ_ContinuousResponseCont.appendChild(e),ILQ_ContinuousResponseCont.appendChild(n),btnTxt=InlineQuizApp.currentQuestion<InlineQuizApp.QuizData.General.showQuestions-1?"Next Question":"none"===InlineQuizApp.QuizData.General.postQuizText&&"none"===InlineQuizApp.QuizData.General.postQuizMedia&&InlineQuizApp.QuizData.General.repeatOnComplete===!0?"Reset Activity":"Finish Activity",nextBtn=InlineQuizApp.MakeGenericButton(function(){if("Reset Activity"===btnTxt){for(InlineQuizApp.QuizData.General.randomize&&(InlineQuizApp.QuizData.Questions=InlineQuizApp.shuffle(InlineQuizApp.QuizData.Questions)),InlineQuizApp.currentQuestion=0,InlineQuizApp.currentQuestionID=InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].QuestionID,q=InlineQuizApp.QuizData.Questions.length-1;q>=0;q--)InlineQuizApp.QuizData.Questions[q].QuestionID=q,InlineQuizApp.QuizData.Questions[q].ChosenAnswers=[];for(InlineQuizApp.savedText=[],i=0;i<InlineQuizApp.QuizData.Questions.length;i++)InlineQuizApp.savedText.push(0);InlineQuizApp.GoNextQuestion()}else InlineQuizApp.currentQuestion++,InlineQuizApp.currentQuestion<InlineQuizApp.QuizData.General.showQuestions&&(InlineQuizApp.currentQuestionID=InlineQuizApp.QuizData.Questions[InlineQuizApp.currentQuestion].QuestionID),InlineQuizApp.GoNextQuestion()},btnTxt,{id:"ILQ_NextButton"}),ILQ_ContinuousResponseCont.appendChild(nextBtn);var t=document.createElement("div");t.setAttribute("style","clear:both;"),ILQ_ContinuousResponseCont.appendChild(t)}$(ILQ_ContinuousResponseCont).hide().appendTo(InlineQuizApp.contentRef).slideDown(500,"swing")};